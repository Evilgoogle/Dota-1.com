function show_info(t,a){var e=$("#disp");"ok"==t?($("#disp_info").text(a),$("#disp_close").css("background-image","url(/skins/img/disp_ok.png)"),e.css("display","block")):"error"==t&&($("#disp_info").text(a),$("#disp_close").css("background-image","url(/skins/img/disp_error.png)"),e.css("display","block"))}function cls(){$("#disp").css("display","none"),$("#disp_info").text("")}function dota_dropdown(t){$("#drop_container"+t).hasClass("drop_container")?($("#drop_container"+t).removeClass("drop_container"),$("#drop_container"+t).addClass("drop_container_active")):$("#drop_container"+t).hasClass("drop_container_active")&&($("#drop_container"+t).removeClass("drop_container_active"),$("#drop_container"+t).addClass("drop_container")),$("#dota_dropdown"+t).hasClass("dota_dropdown_off")?($("#dota_dropdown"+t).removeClass("dota_dropdown_off"),$("#dota_dropdown"+t).addClass("dota_dropdown_on")):$("#dota_dropdown"+t).hasClass("dota_dropdown_on")&&($("#dota_dropdown"+t).removeClass("dota_dropdown_on"),$("#dota_dropdown"+t).addClass("dota_dropdown_off"))}function users_dropdown(t){"off"==t?"0px"==$("#users_dropcontainer").css("height")?($("#users_dropcontainer").css("height","830px"),$("#users").css("margin-top","0px")):"830px"==$("#users_dropcontainer").css("height")&&($("#users_dropcontainer").css("height","0px"),$("#users").css("margin-top","-830px")):"on"==t&&("0px"==$("#users_dropcontainer").css("height")?($("#users_dropcontainer").css("height","830px"),$("#users").css("margin-top","0px")):"830px"==$("#users_dropcontainer").css("height")&&($("#users_dropcontainer").css("height","0px"),$("#users").css("margin-top","-830px")))}function view_system(t,a,e,i,o,s,l,d){var n=$("[data-skin_list"+o+"]"),p=$("[data-skin_cells"+o+"]"),c=$("[data-skin_grid"+o+"]");if($("#table_default"+o).remove(),void 0!==d)var r=JSON.parse(d);else r=s;if("list"==t){if(view_system_click="list",0==view_system_active)var v="open";if(view_system_active=1,0!=p.length&&p.remove(),0!=c.length&&c.remove(),0==n.length||"open"==v)for(var g in v="close",a){if((A=$("<div>",{class:"table_list"}).appendTo($("#table_create"+o))).attr("data-skin_list"+o,""),"admin"!=s&&"supermoderator"!=s||$("<input>",{type:"checkbox",name:"ids[]",value:""+a[g].id}).appendTo(A),"admin"==s||"supermoderator"==s||"moderator"==s){var m=$("<a>",{href:"/"+i+"/edit?module_name="+i+"&id="+a[g].id+"&module_id="+e+"&template_id="+o+"&template=table",class:"btn btn-primary"}).appendTo(A);$("<span>",{class:"glyphicon glyphicon-edit"}).appendTo(m).attr("aria-hidden","true")}A.append('<div class="table_block_list"><div class="temp_table"><div class="tree1"></div><div class="tree2"></div><div class="img"></div><div class="death_knight"></div><div class="block"><div class="left"><img src="'+a[g].preview+'" alt="'+a[g].name+'"></div><div class="rigth"><a class="header" href="/'+i+"/view?id="+a[g].id+"&template="+o+'">'+a[g].name+'</a><div class="text">'+a[g].des+'</div><div class="addition"><div class="block_date_view"><div class="block_date"><div class="date"></div><div class="text1">'+a[g].date+'</div></div><div class="block_view"><div class="view"></div><div class="text2">18</div></div></div><a href="/'+i+"/view?id="+a[g].id+"&template="+o+'" class="button">Подробнее</a></div></div></div></div></div>')}}else if("cells"==t){if(view_system_click="cells",0==view_system_active)v="open";if(view_system_active=1,0!=n.length&&n.remove(),0!=c.length&&c.remove(),0==p.length||"open"==v)for(var g in v="close",a){(X=$("<div>",{class:"table_cells"}).appendTo($("#table_create"+o))).attr("data-skin_cells"+o,"");var u=$("<div>",{class:"table_block_cells"}).appendTo(X);if("admin"!=s&&"supermoderator"!=s||$("<input>",{type:"checkbox",name:"ids[]",value:""+a[g].id}).appendTo(u),"admin"==s||"supermoderator"==s||"moderator"==s){m=$("<a>",{href:"/"+i+"/edit?module_name="+i+"&id="+a[g].id+"&module_id="+e+"&template_id="+o+"&template=table",class:"btn btn-primary"}).appendTo(u);$("<span>",{class:"glyphicon glyphicon-edit"}).appendTo(m).attr("aria-hidden","true")}u.append('<div class="temp_table"><div class="tree1"></div><div class="tree2"></div><div class="tree3"></div><div class="img"></div><div class="death_knight"></div><div class="block"><div class="top"><img src="'+a[g].preview+'" alt="'+a[g].name+'"></div><div class="bottom"><a class="header" href="/'+i+"/view?id="+a[g].id+"&template="+o+'">'+a[g].name+'</a><div class="text">'+a[g].des+'</div><div class="addition"><div class="block_date"><div class="date"></div><div class="text1">'+a[g].date+'</div></div><div class="block_view"><div class="view"></div><div class="text2">18</div></div></div><a href="/'+i+"/view?id="+a[g].id+"&template="+o+'" class="button">Подробнее</a></div></div></div>')}}else if("grid"==t){if(view_system_click="grid",0==view_system_active)v="open";if(view_system_active=1,0!=n.length&&n.remove(),0!=p.length&&p.remove(),0==c.length||"open"==v){v="close";var _=$("<div>",{class:"table_grid"}).appendTo("#table_create"+o);_.attr("data-skin_grid"+o,"");var h=$("<div>",{class:"table_block_grid"}).appendTo(_);if(void 0!==s){var b=$("<div>",{class:"top"}).appendTo(h);for(var f in s){var y=$("<div>",{class:"cats"}).appendTo(b);$("<div>",{class:"header",text:s[f].cat}).appendTo(y);var T=$("<div>",{class:"block"}).appendTo(y);$("<div>",{class:"diablo"}).appendTo(T);var x=$("<div>",{class:"border"}).appendTo(T);if(void 0!==l)for(var w in l)if(s[f].id==l[w].cat){var k=$("<a>",{class:"grid",href:i+"/view?id="+l[w].id+"&template="+o}).appendTo(x);k.css("margin","0px 2px 2px 0px");var z=$("<img>",{src:l[w].mini,alt:l[w].name}).appendTo(k);z.attr("data-toggle","tooltip"),z.attr("data-placement","left"),z.attr("title",l[w].name)}}var C=$("<div>",{class:"bottom"}).appendTo(h);for(var S in a)C.append('<a href="/'+i+"/view?id="+a[S].id+"&template="+o+'" class="js_grid"><img src="'+a[S].mini+'" alt="'+a[S].name+'" data-toggle="tooltip" data-placement="left" title="'+a[S].name+'">')}}}else if("list_magazine"==t){if($("#magazine_default"+o).remove(),view_system_click_magazine="list_magazine",0==view_system_active)v="open";if(view_system_active=1,0!=p.length&&p.remove(),0==n.length||"open"==v)for(var g in v="close",a){var A;if((A=$("<div>",{class:"table_list"}).appendTo($("#magazine_create"+o))).attr("data-skin_list"+o,""),"admin"!=l&&"supermoderator"!=l||$("<input>",{type:"checkbox",name:"ids[]",value:""+a[g].id}).appendTo(A),"admin"==l||"supermoderator"==l||"moderator"==l){m=$("<a>",{href:i+"/edit?module_name="+i+"&id="+a[g].id+"&module_id="+e+"&template_id="+o+"&template=magazine",class:"btn btn-primary"}).appendTo(A);$("<span>",{class:"glyphicon glyphicon-edit"}).appendTo(m).attr("aria-hidden","true")}var P=$("<div>",{class:"table_block_list"}).appendTo(A),O=$("<div>",{class:"temp_table list_skin_tmp"}).appendTo(P);$("<div>",{class:"tree1"}).appendTo(O),$("<div>",{class:"tree2"}).appendTo(O),$("<div>",{class:"img"}).appendTo(O),$("<div>",{class:"death_knight"}).appendTo(O);var q=$("<a>",{href:"/"+i+"/shop?id="+a[g].id+"&template="+o,class:"magazine_button"}).appendTo(O);$("<span>",{text:"Подробнее"}).appendTo(q);T=$("<div>",{class:"block"}).appendTo(O);var I=$("<div>",{class:"left_magazine"}).appendTo(T),j=$("<div>",{class:"top_magazine"}).appendTo(I),N=$("<div>",{class:"hidden_button"}).appendTo(j);(at=$("<button>",{type:"button",class:"button",text:"Быстрый",onclick:"modal_magazine("+a[g].id+", '"+a[g].name+"', "+a[g].price+", '"+JSON.stringify(a[g].des)+"', '"+JSON.stringify(r)+"');"}).appendTo(N)).attr("data-toggle","modal"),at.attr("data-target","#myModal"),$("<span>",{text:"Просмотр"}).appendTo(at);var E=$("<div>",{class:"preview_nav"}).appendTo(j),J=$("<div>",{class:"navigate"}).appendTo(E);$("<div>",{class:"pointer_top",onclick:"nextSlide("+a[g].id+")"}).appendTo(J);var D=$("<div>",{id:"dota_mini_block"+a[g].id,class:"preview_block"}).appendTo(J),M=$("<ul>",{id:"dota_mini_slider"+a[g].id}).appendTo(D);for(var U in r)if(r[U].data_id==a[g].id){var R=$("<li>",{id:"mini_bn"+r[U].id,class:"bn",onclick:"set_review("+r[U].id+","+a[g].id+")"}).appendTo(M);$("<img>",{src:""+r[U].mini}).appendTo(R)}$("<div>",{class:"pointer_bottom",onclick:"prevSlide("+a[g].id+")"}).appendTo(J),$("<div>",{class:"clearfix"}).appendTo(j);var L=$("<div>",{class:"preview"}).appendTo(j),W=[];for(var U in r)r[U].data_id==a[g].id&&($("<img>",{class:"magazine_preview"+a[g].id,id:"preview"+r[U].id,src:""+r[U].preview,alt:"dota"+r[U].id}).appendTo(L),W.unshift(r[U].id));$("#preview"+W[0]).css("display","block");var H=$("<div>",{class:"art1226",text:""+a[g].id}).appendTo(I);H.attr("data-toggle","tooltip"),H.attr("data-placement","bottom"),H.attr("title","Артикул");var B=$("<div>",{class:"rigth"}).appendTo(T);$("<a>",{class:"header",href:"/"+i+"/shop?id="+a[g].id+"&template="+o,text:""+a[g].name}).appendTo(B),$("<div>",{class:"magazine_text"}).appendTo(B).append(a[g].des);var F=$("<div>",{class:"magazine_block"}).appendTo(B),G=$("<div>",{class:"top_pic"}).appendTo(F);$("<div>",{class:"pic_left"}).appendTo(G),$("<div>",{class:"pic_center"}).appendTo(G),$("<div>",{class:"pic_right"}).appendTo(G);var Q=$("<div>",{class:"basket_price"}).appendTo(F),K=$("<div>",{class:"magazine_art",text:""+a[g].id}).appendTo(Q);K.attr("data-toggle","tooltip"),K.attr("data-placement","bottom"),K.attr("title","tooltip"),K.attr("data-original-title","Артикул");var V=$("<div>",{class:"price"}).appendTo(Q);$("<div>",{class:"left_t"}).appendTo(V);var Z=$("<div>",{class:"center_t",text:""+a[g].price}).appendTo(V);$("<span>",{class:"currency",text:" рб"}).appendTo(Z),$("<div>",{class:"right_t"}).appendTo(V),$("<button>",{type:"button",class:"basket"}).appendTo(Q)}}else if("cells_magazine"==t){if($("#magazine_default"+o).remove(),view_system_click_magazine="cells_magazine",0==view_system_active)v="open";if(view_system_active=1,0!=n.length&&n.remove(),0==p.length||"open"==v)for(var g in v="close",a){var X;(X=$("<div>",{class:"table_cells"}).appendTo($("#magazine_create"+o))).attr("data-skin_cells"+o,"");u=$("<div>",{class:"table_block_cells"}).appendTo(X);if("admin"!=l&&"supermoderator"!=l||$("<input>",{type:"checkbox",name:"ids[]",value:""+a[g].id}).appendTo(u),"admin"==l||"supermoderator"==l||"moderator"==l){m=$("<a>",{href:i+"/edit?module_name="+i+"&id="+a[g].id+"&module_id="+e+"&template_id="+o+"&template=magazine",class:"btn btn-primary"}).appendTo(u);$("<span>",{class:"glyphicon glyphicon-edit"}).appendTo(m).attr("aria-hidden","true")}var Y=$("<div>",{class:"temp_magazine"}).appendTo(u);$("<div>",{class:"tree1"}).appendTo(Y),$("<div>",{class:"tree2_magazine"}).appendTo(Y),$("<div>",{class:"tree3_magazine"}).appendTo(Y),$("<div>",{class:"magazine_img"}).appendTo(Y),$("<div>",{class:"img mod"}).appendTo(Y),$("<div>",{class:"death_knight"}).appendTo(Y);T=$("<div>",{class:"block"}).appendTo(Y);var tt=$("<div>",{class:"art",text:"Артикул: "}).appendTo(T);$("<span>",{text:""+a[g].id}).appendTo(tt);var at;j=$("<div>",{class:"top_magazine"}).appendTo(T),N=$("<div>",{class:"hidden_button"}).appendTo(j);(at=$("<button>",{type:"button",class:"button",text:"Быстрый",onclick:"modal_magazine("+a[g].id+", '"+a[g].name+"', "+a[g].price+", '"+JSON.stringify(a[g].des)+"', '"+JSON.stringify(r)+"');"}).appendTo(N)).attr("data-toggle","modal"),at.attr("data-target","#myModal"),$("<span>",{text:"Просмотр"}).appendTo(at);E=$("<div>",{class:"preview_nav"}).appendTo(j),J=$("<div>",{class:"navigate"}).appendTo(E);$("<div>",{class:"pointer_top",onclick:"nextSlide("+a[g].id+")"}).appendTo(J);D=$("<div>",{id:"dota_mini_block"+a[g].id,class:"preview_block"}).appendTo(J),M=$("<ul>",{id:"dota_mini_slider"+a[g].id}).appendTo(D);for(var U in r)if(r[U].data_id==a[g].id){R=$("<li>",{id:"mini_bn"+r[U].id,class:"bn",onclick:"set_review("+r[U].id+","+a[g].id+")"}).appendTo(M);$("<img>",{src:""+r[U].mini}).appendTo(R)}$("<div>",{class:"pointer_bottom",onclick:"prevSlide("+a[g].id+")"}).appendTo(J),$("<div>",{class:"clearfix"}).appendTo(j);L=$("<div>",{class:"preview"}).appendTo(j),W=[];for(var U in r)r[U].data_id==a[g].id&&($("<img>",{class:"magazine_preview"+a[g].id,id:"preview"+r[U].id,src:""+r[U].preview,alt:"dota"+r[U].id}).appendTo(L),W.unshift(r[U].id));$("#preview"+W[0]).css("display","block");C=$("<div>",{class:"bottom"}).appendTo(T);$("<a>",{class:"header",href:"/"+i+"/shop?id="+a[g].id+"&template="+o,text:""+a[g].name}).appendTo(C);G=$("<div>",{class:"top_pic"}).appendTo(C);$("<div>",{class:"pic_left"}).appendTo(G),$("<div>",{class:"pic_center"}).appendTo(G),$("<div>",{class:"pic_right"}).appendTo(G),$("<div>",{class:"text_magazine"}).appendTo(C).append(a[g].des),$("<div>",{class:"bottom_pic"}).appendTo(C),$("<div>",{class:"magazine_block"}).appendTo(C);Q=$("<div>",{class:"basket_price"}).appendTo(C),V=$("<div>",{class:"price"}).appendTo(Q);$("<div>",{class:"left_t"}).appendTo(V);Z=$("<div>",{class:"center_t",text:""+a[g].price}).appendTo(V);$("<span>",{class:"currency",text:" рб"}).appendTo(Z),$("<div>",{class:"right_t"}).appendTo(V),$("<button>",{type:"button",class:"basket"}).appendTo(Q);var et=$("<a>",{href:"/"+i+"/shop?id="+a[g].id+"&template="+o,class:"magazine_button"}).appendTo(C);$("<span>",{text:"Подробнее"}).appendTo(et)}}}function categories(t,a,e,i,o,s){if("table"==o)0==i?window.location.href="/"+a:$.ajax({url:"/ajax/categories",type:"GET",cache:!1,data:{template_id:e,id:i},success:function(i){var o=i.match(/dovahkin(.*)go/i);$("#button_list"+e).attr("onclick","view_system('list', "+o[1]+", '"+t+"', '"+a+"', '"+e+"', '"+s+"')"),$("#button_cells"+e).attr("onclick","view_system('cells', "+o[1]+", '"+t+"', '"+a+"', '"+e+"', '"+s+"')"),$("[data-skin_list"+e+"]").remove(),$("[data-skin_cells"+e+"]").remove(),"list"==view_system_click?$("#button_list"+e).trigger("click"):"cells"==view_system_click?$("#button_cells"+e).trigger("click"):"grid"==view_system_click&&$("#button_grid"+e).trigger("click")}});else if("gal"==o)if(0==i)window.location.href="/"+a;else{var l=$("#gal_default"+e);l.slideUp({duratation:400,done:function(){l.remove()}}),(o=$("#gal_create"+e)).slideUp(400),setTimeout(function(){$("[data-skin_gal"+e+"]").remove(),$.ajax({url:"/ajax/categories",type:"GET",cache:!1,data:{template_id:e,id:i},success:function(t){var a=t.match(/dovahkin(.*)go/i),i=JSON.parse(a[1]);for(var l in i){var d=$("<div>",{class:"gal_block"}).appendTo(o);d.attr("data-skin_gal",e),"admin"!=s&&"supermoderator"!=s||$("<input>",{type:"checkbox",name:"ids[]",value:""+i[l].id}).appendTo(d),d.append('<div class="temp_gal"><a class="a_image" href="'+i[l].img+'" alt="'+i[l].name+'" data-toggle="tooltip" data-placement="top" title="'+i[l].name+'" itemprop="contentUrl" data-fancybox="gallery'+e+'"data-caption=" <div>Название: <b>'+i[l].name+'</b> </div><div>Добавил: <b>Dota</b></div><div>Дата добавление: <b>28-04-2018</b></div>"data-options="{&quot;animationEffect&quot; : &quot;zoom&quot;, &quot;transitionEffect&quot; : &quot;tube&quot;}"><img src="'+i[l].preview+'" itemprop="thumbnail" alt="'+i[l].name+'"></a><div class="box"><div class="info" data-toggle="tooltip" data-placement="bottom" title="Добавил: Dota"><span class="glyphicon glyphicon-user" aria-hidden="true"></span></div><div class="info" data-toggle="tooltip" data-placement="bottom" title="Дата добавление: 27-08-2018"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span></div><a data-fancybox="small-gallery'+e+'"data-options="{&quot;animationEffect&quot; : &quot;zoom&quot;, &quot;transitionEffect&quot; : &quot;tube&quot;}" href="'+i[l].img+'" alt="'+i[l].name+'" class="info"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></a href="'+i[l].img+'" alt="'+i[l].name+'"></div></div>')}o.slideDown(400)}})},700)}}function del_categories(){$(".table_list_categories").remove(),$(".table_cells_categories").remove()}function nextSlide(t){slideCount=$("#dota_mini_slider"+t).children().length,slideNow==slideCount||slideNow<=0||slideNow>slideCount?($("#dota_mini_slider"+t).css("transform","translate(0, 0)"),slideNow=1):(translateWidth=-$("#mini_bn"+t).height()+4*slideNow,$("#dota_mini_slider"+t).css({transform:"translate(0,"+translateWidth+"px)","-webkit-transform":"translate(0,"+translateWidth+"px)","-ms-transform":"translate(0,"+translateWidth+"px)"}),slideNow++)}function prevSlide(t){slideCount=$("#dota_mini_slider"+t).children().length,1==slideNow||slideNow<=0||slideNow>slideCount?(translateWidth=-$("#mini_bn"+t).height()+4*(slideCount-1),$("#dota_mini_slider"+t).css({transform:"translate(0,"+translateWidth+"px)","-webkit-transform":"translate(0,"+translateWidth+"px)","-ms-transform":"translate(0,"+translateWidth+"px)"}),slideNow=slideCount):(translateWidth=-$("#mini_bn"+t).height()*(slideNow-2),$("#dota_mini_slider"+t).css({transform:"translate(0,"+translateWidth+"px)","-webkit-transform":"translate(0,"+translateWidth+"px)","-ms-transform":"translate(0,"+translateWidth+"px)"}),slideNow--)}function nav_mobile(){var t=$("#nav_mobile");"none"==t.css("display")?t.slideDown(500):"block"==t.css("display")&&t.slideUp(300)}function users_access(){$("#access").on("show.bs.modal",function(){var t=$(this);t.find(".modal-body").text("Вы собираетесь удалить подкатегорию"),t.find("#delete").attr("onclick","del_subcat_magazine_ajax("+id+")")}),$("#access").modal("toggle")}function getModule(t,a){$.ajax({url:"/ajax/getmodule",type:"GET",cache:!1,data:{id:t},success:function(e){var i=e.match(/dovahkin(.*)go/i),o=JSON.parse(i[1]);for(var s in o)$("#module_create"+t).append('<div id="openModule'+o[s].id+'" class="module mod_module"><div class="left"><div class="check_bn"><input type="checkbox" name="ids[]" value="'+o[s].id+'"></div><button type="button" onclick="getModule('+o[s].id+",'"+o[s].name+'\')" class="module_button">'+a+" --\x3e "+o[s].name+'</button></div><div class="rigth"><a href="/admin/module/edit?id='+o[s].id+"&parent="+t+'" class="btn btn-default">Изменить</a></div></div><div id="module_create'+o[s].id+'"></div>'),openModule(o[s].id)}})}function openModule(t){var a=$("#openModule"+t);"none"==a.css("display")?$("#openModule"+t).slideDown(500):"block"==a.css("display")&&$("#openModule"+t).slideUp(500)}function create_template(t,a,e,i){if("one"==t)use+=1,$("#create_tempalte").append('<div id="form_template'+use+'" class="form_data"><div class="img"></div><div class="form_block_header"><div class="left">Одниночный шаблон - '+use+'</div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+use+')">Удалить</button></div></div><div class="form-group"><label class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][one][container]" class="form-control"><option value="div">Div</option><option value="article">Article</option><option value="section">Section</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][one][itemscope]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][one][tegh]" class="form-control"><option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][one][header]" class="form-control" value=""><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemprop</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][one][itemprop]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это дочерная микроразметка для textarea. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример ProductModel"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Текстовое поле</label><textarea id="editor'+use+'" name="data[insert]['+use+'][one][text]" class="form-control"></textarea><script>CKEDITOR.replace(\'editor'+use+"');<\/script></div></div></div>");else if("table"==t)use+=1,$("#create_tempalte").append('<div id="form_template'+use+'" class="form_data"><div class="img"></div><div class="form_block_header"><div class="left">Табличный шаблон - '+use+'</div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+use+')">Удалить</button></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][table][container]" class="form-control"><option value="div">Div</option><option value="article">Article</option><option value="section">Section</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][table][itemscope]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][table][tegh]" class="form-control"><option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][table][header]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Вид</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][table][view]" class="form-control"><option value="list">Список</option><option value="cells">Ячейка</option><option value="grid">Дота</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Данные в табличном шаблоне могут отображатся в трех видах. Здесь указывается вид который будет идти по умолчанию при загрузке страницы."><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><div class="left">Подкатегорий</div><div class="right"><button type="button" onclick="create_subcat('+use+', \'table\')" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Добавляет подкатегорию в данный шаблон. Подкатегорию можно и не добавлять. Она нужна если потребуется сортировка данных">Добавить</button></div></div><div class="panel-body"><div id="subcat'+use+'"></div></div></div></div>');else if("gal"==t)use+=1,$("#create_tempalte").append('<div id="form_template'+use+'" class="form_data"><div class="img"></div><div class="form_block_header"><div class="left">Галерейный шаблон - '+use+'</div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+use+')">Удалить</button></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][gal][container]" class="form-control"><option value="div">Div</option><option value="article">Article</option><option value="section">Section</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][gal][itemscope]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][gal][tegh]" class="form-control"><option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][gal][header]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><div class="left">Подкатегорий</div><div class="right"><button type="button" onclick="create_subcat('+use+', \'gal\')" class="btn btn-default" data-toggle="tooltip"data-placement="bottom" title="Добавляет подкатегорию в данный шаблон. Подкатегорию можно и не добавлять. Она нужна если потребуется сортировка данных">Добавить</button></div></div><div class="panel-body"><div id="subcat'+use+'"></div></div></div></div>');else if("carusel"==t)use+=1,$("#create_tempalte").append('<div id="form_template'+use+'" class="form_data"><div class="img"></div><div class="form_block_header"><div class="left">Карусельный шаблон - '+use+'</div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+use+')">Удалить</button></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][carusel][container]" class="form-control"><option value="div">Div</option><option value="article">Article</option><option value="section">Section</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][carusel][itemscope]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][carusel][tegh]" class="form-control"><option value="div">&lt;div&gt;</option><option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][carusel][header]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона. Если вы хотите чтоб у каруселя не было загаловка (не отображался на странице), то оставьте это поле пустым. Такое доступно только для карусельного шаблона."><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div></div>');else if("magazine"==t)use+=1,$("#create_tempalte").append('<div id="form_template'+use+'" class="form_data"><div class="img"></div><div class="form_block_header"><div class="left">Интернет магазин - '+use+'</div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+use+')">Удалить</button></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][magazine][container]" class="form-control"><option value="div">Div</option><option value="article">Article</option><option value="section">Section</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][magazine][itemscope]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][magazine][tegh]" class="form-control"><option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[insert]['+use+'][magazine][header]" class="form-control"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Вид</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[insert]['+use+'][magazine][view]" class="form-control"><option value="list">Ячейка</option><option value="cells">Список</option></select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Данные в табличном шаблоне могут отображатся в трех видах. Здесь указывается вид который будет идти по умолчанию при загрузке страницы."><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><div class="left">Категорий</div><div class="right"><button type="button" class="btn btn-default" data-toggle="tooltip"data-placement="bottom" title="Категорий помагают удобно отсортировывать товары по свойствам. Обязательно добавляйте категорий чтоб создать удобства пользователям" onclick="create_subcat_magazine('+use+')">Добавить</button></div></div><div class="panel-body"><div id="subcat_magazine'+use+'"></div></div></div></div>');else if("set"==t)for(var o in a){if("div"==a[o].container)var s='<option selected value="div">Div</option><option value="article">Article</option><option value="section">Section</option>';else if("article"==a[o].container)s='<option value="div">Div</option><option selected value="article">Article</optionselected><option value="section">Section</option>';else if("section"==a[o].container)s='<option value="div">Div</option><option value="article">Article</option><option selected value="section">Section</option>';if("carusel"!=a[o].template){if("h1"==a[o].tegh)var l='<option selected value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option>';else if("h2"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option selected value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option>';else if("h3"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option selected value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option>';else if("h4"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option selected value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option>';else if("h5"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option selected value="h5">&lt;h5&gt;</option>'}else if("carusel"==a[o].template)if("h1"==a[o].tegh)l='<option selected value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option><option value="div">&lt;div&gt;</option>';else if("h2"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option selected value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option><option value="div">&lt;div&gt;</option>';else if("h3"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option selected value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option><option value="div">&lt;div&gt;</option>';else if("h4"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option selected value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option><option value="div">&lt;div&gt;</option>';else if("h5"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option selected value="h5">&lt;h5&gt;</option><option value="div">&lt;div&gt;</option>';else if("div"==a[o].tegh)l='<option value="h1">&lt;h1&gt;</option><option value="h2">&lt;h2&gt;</option><option value="h3">&lt;h3&gt;</option><option value="h4">&lt;h4&gt;</option><option value="h5">&lt;h5&gt;</option><option selected value="div">&lt;div&gt;</option>';if("magazine"!=a[o].template){if("list"==a[o].view)var d='<option selected value="list">Список</option><option value="cells">Ячейка</option><option value="grid">Дота</option>';else if("cells"==a[o].view)d='<option value="list">Список</option><option selected value="cells">Ячейка</option><option value="grid">Дота</option>';else if("grid"==a[o].view)d='<option value="list">Список</option><option value="cells">Ячейка</option><option selected value="grid">Дота</option>'}else if("list"==a[o].view)d='<option selected value="list">Список</option><option value="cells">Ячейка</option>';else if("cells"==a[o].view)d='<option value="list">Список</option><option selected value="cells">Ячейка</option>';else if("grid"==a[o].view)d='<option value="list">Список</option><option value="cells">Ячейка</option>';if("one"==a[o].template)$("#create_tempalte").append('<div id="form_template'+a[o].template_id+'" class="form_data"><div class="img"></div><div class="form_block_header mod_header"><div class="left"><span class="pic"></span><span class="text">Одиночный шаблон- '+a[o].template_id+'</span></div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+a[o].template_id+', \'set\')" data-whatever="template">Удалить</button></div></div><div class="form-group"><label class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][one][container]" class="form-control">'+s+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][one][itemscope]" class="form-control" value="'+a[o].itemscope+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][one][tegh]" class="form-control">'+l+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][one][header]" class="form-control" value="'+a[o].header+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemprop</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][one][itemprop]" class="form-control" value="'+a[o].itemprop+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это дочерная микроразметка для textarea. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример ProductModel"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Текстовое поле</label><textarea id="editor'+a[o].template_id+'" name="data[edit]['+a[o].template_id+'][one][text]" class="form-control">'+a[o].text+"</textarea><script>CKEDITOR.replace('editor"+a[o].template_id+"');<\/script></div></div></div>");else if("table"==a[o].template)for(var n in $("#create_tempalte").append('<div id="form_template'+a[o].template_id+'" class="form_data"><div class="img"></div><div class="form_block_header mod_header"><div class="left"><span class="pic"></span><span class="text">Табличный шаблон - '+a[o].template_id+'</span></div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+a[o].template_id+', \'set\')">Удалить</button></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][table][container]" class="form-control">'+s+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][table][itemscope]" class="form-control" value="'+a[o].itemscope+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][table][tegh]" class="form-control">'+l+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][table][header]" class="form-control" value="'+a[o].header+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Вид</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][table][view]" class="form-control">'+d+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Данные в табличном шаблоне могут отображатся в трех видах. Здесь указывается вид который будет идти по умолчанию при загрузке страницы."><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><div class="left">Подкатегорий</div><div class="right"><button type="button" onclick="create_subcat('+a[o].template_id+', \'table\', \'edit\')" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Добавляет подкатегорию в данный шаблон. Подкатегорию можно и не добавлять. Она нужна если потребуется сортировка данных">Добавить</button></div></div><div class="panel-body"><div id="subcat'+a[o].template_id+'"></div></div></div></div>'),e)a[o].template_id==e[n].template_id&&create_subcat(a[o].template_id,"table","set",e[n]);else if("gal"==a[o].template)for(var n in $("#create_tempalte").append('<div id="form_template'+a[o].template_id+'" class="form_data"><div class="img"></div><div class="form_block_header mod_header"><div class="left"><span class="pic"></span><span class="text">Галерейный шаблон - '+a[o].template_id+'</span></div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+a[o].template_id+', \'set\')">Удалить</button></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][gal][container]" class="form-control">'+s+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][gal][itemscope]" class="form-control" value="'+a[o].itemscope+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][gal][tegh]" class="form-control">'+l+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][gal][header]" class="form-control" value="'+a[o].header+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><div class="left">Подкатегорий</div><div class="right"><button type="button" onclick="create_subcat('+a[o].template_id+', \'gal\', \'edit\')" class="btn btn-default" data-toggle="tooltip"data-placement="bottom" title="Добавляет подкатегорию в данный шаблон. Подкатегорию можно и не добавлять. Она нужна если потребуется сортировка данных">Добавить</button></div></div><div class="panel-body"><div id="subcat'+a[o].template_id+'"></div></div></div></div>'),e)a[o].template_id==e[n].template_id&&create_subcat(a[o].template_id,"gal","set",e[n]);else if("carusel"==a[o].template)$("#create_tempalte").append('<div id="form_template'+a[o].template_id+'" class="form_data"><div class="img"></div><div class="form_block_header mod_header"><div class="left"><span class="pic"></span><span class="text">Карусельный шаблон - '+a[o].template_id+'</span></div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+a[o].template_id+', \'set\')">Удалить</button></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][carusel][container]" class="form-control">'+s+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][carusel][itemscope]" class="form-control" value="'+a[o].itemscope+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][carusel][tegh]" class="form-control">'+l+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][carusel][header]" class="form-control" value="'+a[o].header+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона. Если вы хотите чтоб у каруселя не было загаловка (не отображался на странице), то оставьте это поле пустым. Такое доступно только для карусельного шаблона."><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div></div>');else if("magazine"==a[o].template)for(var n in $("#create_tempalte").append('<div id="form_template'+a[o].template_id+'" class="form_data"><div class="img"></div><div class="form_block_header mod_header"><div class="left"><span class="pic"></span><span class="text">Интернет магазин - '+a[o].template_id+'</span></div><div class="right"><button type="button" class="btn btn-default" onclick="del_tempalte('+a[o].template_id+', \'set\')">Удалить</button></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Контейнер</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][magazine][container]" class="form-control">'+s+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это теги для SEO. Если вы хотите чтоб поисковик не обращял внимание на данный шаблон или у вас всего 1 шаблон, ставьте div. Если в данном шаблоне будет самодостаточная информация и вы хотите чтоб поисковик выделил его отдельно, вставльте article. Если у вас шаблонов несколько и они связаны с темой данного модуля то вставьте им section"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Itemscope itemtype</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][magazine][itemscope]" class="form-control" value="'+a[o].itemscope+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это главная микроразметка этого шаблона. Выберите нужную микроразметку из schema.org и вставьте в данное поле. Пример http://schema.org/Product"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Тег загаловка</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][magazine][tegh]" class="form-control">'+l+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это тег в которым будет загаловок шаблона. Это важный тег SEO, в нем будет находится ключевое слова дающий представление о теме данного шаблона. H1-h5 означает приориетет этого ключевого слова на странице. В странице h1 должен быть только один"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Загаловок</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div><input type="text" name="data[edit]['+a[o].template_id+'][magazine][header]" class="form-control" value="'+a[o].header+'"><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это загаловок шаблона"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="form-group"><label for="exampleInputPassword1" class="data_hint">Вид</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></div></div><select name="data[edit]['+a[o].template_id+'][magazine][view]" class="form-control">'+d+'</select><div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Данные в табличном шаблоне могут отображатся в трех видах. Здесь указывается вид который будет идти по умолчанию при загрузке страницы."><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><div class="left">Категорий</div><div class="right"><button type="button" class="btn btn-default" data-toggle="tooltip"data-placement="bottom" title="Категорий помагают удобно отсортировывать товары по свойствам. Обязательно добавляйте категорий чтоб создать удобства пользователям" onclick="create_subcat_magazine('+a[o].template_id+', \'edit\')">Добавить</button></div></div><div class="panel-body"><div id="subcat_magazine'+a[o].template_id+'"></div></div></div></div>'),e)if(a[o].template_id==e[n].template_id)for(var p in create_subcat_magazine(a[o].template_id,"set",e[n]),i)e[n].id==i[p].cat_id&&create_subcat_magazine_properties(i[p].id,e[n].id,"set",i[p],a[o].template_id)}}function del_tempalte(t,a){void 0===a?($("#form_template"+t).remove(),$("#delete").modal("hide")):"set"==a&&($("#delete").on("show.bs.modal",function(){var a=$(this);a.find(".modal-body").text("Вы собираетесь удалить существующий шаблон. При удалений удалятся данные у этого шаблона"),a.find("#delete").attr("onclick","del_template_ajax("+t+")")}),$("#delete").modal("toggle"))}function del_template_ajax(t){console.log(t),$.ajax({url:"/ajax/del_template",type:"POST",cache:!1,data:{id:t}}),window.location.reload()}function create_subcat(t,a,e,i){void 0===e?"table"==a?(subcat_table+=1,$("#subcat"+t).append('<div id="subcat_table'+subcat_table+'" class="input-group"><input type="text" class="form-control" name="data[insert]['+t+"]["+a+"][subcat]["+subcat_table+']"><div class="input-group-btn"><button class="btn btn-default" type="button" onclick="del_subcat('+subcat_table+', \'table\')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div>')):"gal"==a&&(subcat_gal+=1,$("#subcat"+t).append('<div id="subcat_gal'+subcat_gal+'" class="input-group"><input type="text" class="form-control" name="data[insert]['+t+"]["+a+"][subcat]["+subcat_gal+']"><div class="input-group-btn"><button class="btn btn-default" type="button" onclick="del_subcat('+subcat_gal+', \'gal\')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div>')):"set"==e?"table"==a?$("#subcat"+t).append('<div id="subcat_table'+i.id+'" class="input-group"><input type="text" class="form-control" name="data[edit]['+t+"]["+a+"][subcat]["+i.id+']" value="'+i.cat+'"><div class="input-group-btn"><button class="btn btn-default" type="button" onclick="del_subcat('+i.id+', \'table\', \'set\')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div>'):"gal"==a&&$("#subcat"+t).append('<div id="subcat_gal'+i.id+'" class="input-group"><input type="text" class="form-control" name="data[edit]['+t+"]["+a+"][subcat]["+i.id+']" value="'+i.cat+'"><div class="input-group-btn"><button class="btn btn-default" type="button" onclick="del_subcat('+i.id+', \'gal\', \'set\')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div>'):"edit"==e&&("table"==a?(subcat_table+=1,$("#subcat"+t).append('<div id="subcat_table'+subcat_table+'" class="input-group"><input type="text" class="form-control" name="data[edit_insert]['+t+"]["+a+"][subcat]["+subcat_table+']"><div class="input-group-btn"><button class="btn btn-default" type="button" onclick="del_subcat('+subcat_table+', \'table\')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div>')):"gal"==a&&(subcat_gal+=1,$("#subcat"+t).append('<div id="subcat_gal'+subcat_gal+'" class="input-group"><input type="text" class="form-control" name="data[edit_insert]['+t+"]["+a+"][subcat]["+subcat_gal+']"><div class="input-group-btn"><button class="btn btn-default" type="button" onclick="del_subcat('+subcat_gal+', \'gal\')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div>')))}function del_subcat(t,a,e){void 0===e?("table"==a?$("#subcat_table"+t).remove():"gal"==a&&$("#subcat_gal"+t).remove(),$("#delete").modal("hide")):"set"==e&&($("#delete").on("show.bs.modal",function(){var a=$(this);a.find(".modal-body").text("Вы собираетесь удалить подкатегорию. При удалений данные этой подкатегорий перейдут на обшую категорию"),a.find("#delete").attr("onclick","del_subcat_ajax("+t+")")}),$("#delete").modal("toggle"))}function del_subcat_ajax(t,a){$.ajax({url:"/ajax/del_subcat",type:"POST",cache:!1,data:{id:t}}),window.location.reload()}function create_subcat_magazine(t,a,e){void 0===a?(subcat_magazine+=1,$("#subcat_magazine"+t).append('<div id="subcat_magazine_input'+subcat_magazine+'" class="input-group"><div class="input-group-btn"><button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Создайте свойства по которым будет идти сортировка на странице. Пример: Категория - Тип процессора. Далле идут свойства которых можно выбирать - Corei7, Corei5, Corei3, AMD и т.д" onclick="create_subcat_magazine_properties('+subcat_magazine+", "+t+')"><span class="glyphicon glyphicon-check" aria-hidden="true"></span></button></div><input type="text" class="form-control" name="data[insert]['+t+"][magazine][subcat]["+subcat_magazine+']"><div class="input-group-btn"><button class="btn btn-default" type="button" type="button" data-toggle="tooltip" data-placement="top" title="Удалить категорию" onclick="del_subcat_magazine('+subcat_magazine+')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div><div id="subcat_magazine_properties'+subcat_magazine+'"></div>')):"set"==a?$("#subcat_magazine"+t).append('<div id="subcat_magazine_input'+e.id+'" class="input-group"><div class="input-group-btn"><button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Создайте свойства по которым будет идти сортировка на странице. Пример: Категория - Тип процессора. Далее идут свойства которых можно выбирать - Corei7, Corei5, Corei3, AMD и т.д" onclick="create_subcat_magazine_properties('+e.id+", "+t+', \'edit\')"><span class="glyphicon glyphicon-check" aria-hidden="true"></span></button></div><input type="text" class="form-control" name="data[edit]['+t+"][magazine][subcat]["+e.id+']" value="'+e.cat+'"><div class="input-group-btn"><button class="btn btn-default" type="button" type="button" data-toggle="tooltip" data-placement="top" title="Удалить категорию" onclick="del_subcat_magazine('+e.id+', \'set\')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div><div id="subcat_magazine_properties'+e.id+'"></div>'):"edit"==a&&(subcat_magazine+=1,$("#subcat_magazine"+t).append('<div id="subcat_magazine_input'+subcat_magazine+'" class="input-group"><div class="input-group-btn"><button class="btn btn-default" type="button" data-toggle="tooltip" data-placement="top" title="Создайте свойства по которым будет идти сортировка на странице. Пример: Категория - Тип процессора. Далле идут свойства которых можно выбирать - Corei7, Corei5, Corei3, AMD и т.д" onclick="create_subcat_magazine_properties('+subcat_magazine+", "+t+',\'edit\')"><span class="glyphicon glyphicon-check" aria-hidden="true"></span></button></div><input type="text" class="form-control" name="data[edit_insert]['+t+"][magazine][subcat]["+subcat_magazine+']"><div class="input-group-btn"><button class="btn btn-default" type="button" type="button" data-toggle="tooltip" data-placement="top" title="Удалить категорию" onclick="del_subcat_magazine('+subcat_magazine+')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div><div id="subcat_magazine_properties'+subcat_magazine+'"></div>'))}function del_subcat_magazine(t,a){void 0===a?($("#subcat_magazine_input"+t).remove(),$("#subcat_magazine_properties"+t).remove(),$("#delete").modal("hide")):"set"==a&&($("#delete").on("show.bs.modal",function(){var a=$(this);a.find(".modal-body").text("Вы собираетесь удалить подкатегорию"),a.find("#delete").attr("onclick","del_subcat_magazine_ajax("+t+")")}),$("#delete").modal("toggle"))}function del_subcat_magazine_ajax(t){$.ajax({url:"/ajax/del_subcat_magazine",type:"POST",cache:!1,data:{id:t}}),window.location.reload()}function create_subcat_magazine_properties(t,a,e,i,o){void 0===e?(subcat_magazine_properties+=1,$("#subcat_magazine_properties"+t).append('<div id="magazine_properties'+subcat_magazine_properties+'" class="properties"><div class="input-group"><input type="text" class="form-control" placeholder="Количество ядер, Память ОЗУ, Цвет одежды, Бренд, Форм-фактор и тому подобные вещи" name="data[insert]['+a+"][magazine][properties]["+t+"]["+subcat_magazine_properties+']"><div class="input-group-btn"><button class="btn btn-default" type="button" type="button" data-toggle="tooltip" data-placement="top" title="Удалить свойства" onclick="del_subcat_magazine_properties('+subcat_magazine_properties+')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div></div>')):"set"==e?$("#subcat_magazine_properties"+a).append('<div id="magazine_properties'+t+'" class="properties"><div class="input-group"><input type="text" class="form-control" placeholder="Количество ядер, Память ОЗУ, Цвет одежды, Бренд, Форм-фактор и тому подобные вещи" name="data[edit]['+o+"][magazine][properties]["+a+"]["+t+']" value="'+i.properties+'"><div class="input-group-btn"><button class="btn btn-default" type="button" type="button" data-toggle="tooltip" data-placement="top" title="Удалить свойства" onclick="del_subcat_magazine_properties('+t+', \'set\')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div></div>'):"edit"==e&&(subcat_magazine_properties+=1,$("#subcat_magazine_properties"+t).append('<div id="magazine_properties'+subcat_magazine_properties+'" class="properties"><div class="input-group"><input type="text" class="form-control" placeholder="Количество ядер, Память ОЗУ, Цвет одежды, Бренд, Форм-фактор и тому подобные вещи" name="data[edit_insert]['+a+"][magazine][properties]["+t+"]["+subcat_magazine_properties+']"><div class="input-group-btn"><button class="btn btn-default" type="button" type="button" data-toggle="tooltip" data-placement="top" title="Удалить свойства" onclick="del_subcat_magazine_properties('+subcat_magazine_properties+')"><span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span></button></div></div></div>'))}function del_subcat_magazine_properties(t,a){void 0===a?($("#magazine_properties"+t).remove(),$("#delete").modal("hide")):"set"==a&&($("#delete").on("show.bs.modal",function(){var a=$(this);a.find(".modal-body").text("Вы собираетесь удалить свойства подкатегорий"),a.find("#delete").attr("onclick","del_properties_ajax("+t+")")}),$("#delete").modal("toggle"))}function del_properties_ajax(t){$.ajax({url:"/ajax/del_subcat_properties",type:"POST",cache:!1,data:{id:t}}),window.location.reload()}function magazine_pics(t,a){if(void 0===t)pics+=1,$("#magazine_pics").append('<div id="pics'+pics+'" class="magazine_pics"><button class="btn btn-default" type="button" onclick="magazine_pics_del('+pics+')">Удалить</button><div class="form-group"><label for="exampleInputPassword1" class="hint">Мини Картина</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div>\x3c!--\x3e<div class="form-control"><button type="button" class="btn btn-default" onclick="crop_open(\'magazine_mini\','+pics+',\'Мини\', \'magazine\', \'mini\');">Выбрать</button></div>\x3c!--\x3e<div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это картина отобразаится в панеле быстрого доступа товара"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div><button type="button" class="spoiler" onclick="spoiler(\''+pics+"', 'magazine', 'mini')\">Показать картину</button><div id=\"insert_mini"+pics+'" class="cropend"></div></div>\x3c!-- ------------------------------------ --\x3e<div class="form-group"><label for="exampleInputPassword1" class="hint">Превью Картина</label><div class="input-group"><div class="input-group-btn"><div class="btn pseudo_left"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></div></div>\x3c!--\x3e<div class="form-control"><button type="button" class="btn btn-default" onclick="crop_open(\'magazine\','+pics+',\'Мини\', \'magazine\', \'preview\');">Выбрать</button></div>\x3c!--\x3e<div class="input-group-btn"><div id="form_seo" class="btn pseudo" data-toggle="tooltip" data-placement="bottom" title="Это картина будет представлять товар. Отсюда берется полная картина товара"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></div></div></div><button type="button" class="spoiler" onclick="spoiler(\''+pics+"', 'magazine', 'preview')\">Показать картину</button><div id=\"insert_preview"+pics+'" class="cropend"></div></div>');else if("set"==t)for(var e in a)$("#magazine_pics").append('<div id="pics'+a[e].id+'" class="magazine_pics mod_magazine_pics"><button class="btn btn-primary" type="button" onclick="magazine_pics_del('+a[e].id+", 'set')\">Удалить картину - № "+a[e].id+'</button>\x3c!-- ------------------------------------ --\x3e<div class="form-group"><label for="exampleInputPassword1" class="hint">Мини Картина</label><button type="button" class="spoiler" onclick="spoiler(\''+a[e].id+"', 'magazine', 'edit_mini')\">Показать картину</button><div id=\"insert_edit_mini"+a[e].id+'" class="cropend"></div></div>\x3c!-- ------------------------------------ --\x3e<div class="form-group"><label for="exampleInputPassword1" class="hint">Превью Картина</label><button type="button" class="spoiler" onclick="spoiler(\''+a[e].id+"', 'magazine', 'edit_preview')\">Показать картину</button><div id=\"insert_edit_preview"+a[e].id+'" class="cropend"></div></div>')}function magazine_pics_del(t,a){void 0===a?$("#pics"+t).remove():"set"==a&&($("#delete").on("show.bs.modal",function(){var a=$(this);a.find(".modal-body").text("Вы собираетесь удалить картину. При удалений удалится мини, превью и полная катина"),a.find("#delete_button").attr("onclick","magazine_pics_ajax("+t+")")}),$("#delete").modal("toggle"))}function magazine_pics_ajax(t){$.ajax({url:"/ajax/del_img",type:"POST",cache:!1,data:{id:t}}),window.location.reload()}function set_review(t,a){$(".magazine_preview"+a).css("display","none"),$("#preview"+t).css("display","block")}function create_magazine_panel(t,a,e,i,o){$("#panel_create");$.ajax({url:"/ajax/magazine_properties",type:"POST",cache:!1,data:{activate:"ok"},success:function(s){var l=s.match(/dovahkin(.*)go/i),d=JSON.parse(l[1]);$.ajax({url:"/ajax/magazine_cat",type:"POST",cache:!1,data:{template_id:t},success:function(s){var n=s.match(/dovahkin(.*)go/i),p=JSON.parse(n[1]);if(null!==p){var c=$("<div>",{class:"panel_create"}).appendTo("#panel_create"),r=$("<div>",{class:"panel_header_magazine"}).appendTo(c);$("<div>",{class:"top_create"}).appendTo(r);var v=$("<div>",{class:"center_create"}).appendTo(r);$("<span>",{text:a}).appendTo(v),$("<div>",{class:"bottom_create"}).appendTo(r);var g=$("<div>",{id:"create_block"+t,class:"create_block"}).appendTo(c);for(var m in p){$("<div>",{class:"cat_header",text:p[m].cat}).appendTo(g);var u=$("<div>",{id:"panel_magazine_block"+p[m].id}).appendTo(g);for(var _ in d)if(p[m].id==d[_].cat_id){var h=$("<div>",{class:"cat_block"}).appendTo(u);$("<input>",{type:"checkbox",onchange:"click_get("+t+","+p[m].id+", "+d[_].id+", '"+d[_].properties+"', "+n[1]+", "+l[1]+", "+e+", '"+i+"', '"+o+"')"}).appendTo(h).attr("data-prop",d[_].id),$("<p>",{class:"text",text:d[_].properties}).appendTo(h)}}g=$("<div>",{class:"line"}).appendTo(c)}}})}})}function shop_prop(t){$("#init_panel").empty();var a=$("#panel_create");$.ajax({url:"/ajax/magazine_filter",type:"POST",cache:!1,data:{data_id:t},success:function(t){var e=t.match(/dovahkin(.*)go/i),i=JSON.parse(e[1]),o=$("<div>",{class:"panel_create"}).appendTo(a),s=$("<div>",{class:"panel_header_magazine"}).appendTo(o);$("<div>",{class:"top_create"}).appendTo(s);var l=$("<div>",{class:"center_create"}).appendTo(s);for(var d in $("<span>",{text:"Свойства"}).appendTo(l),$("<div>",{class:"bottom_create"}).appendTo(s),i){var n=$("<div>",{class:"shop_proporties"}).appendTo(o);$("<div>",{class:"prop_left"}).appendTo(n),$("<div>",{class:"prop_right",text:""+i[d].properties}).appendTo(n)}$("<div>",{class:"death_knight"}).appendTo(o);var p=$("<div>",{class:"shop_prop_price"}).appendTo(o);$("<div>",{class:"left_t"}).appendTo(p);var c=$("<div>",{class:"center_t",text:"200"}).appendTo(p);$("<span>",{class:"currency",text:"рб"}).appendTo(c),$("<div>",{class:"right_t"}).appendTo(p);var r=$("<button>",{type:"button",class:"shop_basket_button"}).appendTo(o);$("<span>",{text:"В Корзину"}).appendTo(r)}})}function modal_magazine(t,a,e,i,o,s){$(".modal-body_magazine").empty();var l=$(".modal-body_magazine");l.html('<div class="modal_main_header"><div class="bn_left"></div><div class="bn_center">'+a+'</div><div class="bn_right"></div><div class="bn_modile"><span>'+a+"</span></div></div>");var d=JSON.parse(o);$.ajax({url:"/ajax/magazine_filter",type:"POST",cache:!1,data:{data_id:t},success:function(a){var o=a.match(/dovahkin(.*)go/i),n=JSON.parse(o[1]),p=$("<div>",{class:"left_magazine"}).appendTo(l),c=$("<div>",{class:"slide_carusel modal_slide_carusel"}).appendTo(p),r=$("<div>",{id:"carousel-example-generic",class:"carousel modal_carousel"}).appendTo(c);r.attr("data-ride","carousel");var v=$("<ol>",{class:"carousel-indicators modal_carousel-indicators"}).appendTo(r);for(var g in d)if(d[g].data_id==t){var m=$("<div>",{class:"info"}).appendTo(v);m.attr("data-target","#carousel-example-generic"),m.attr("data-slide-to",""+d[g].id),$("<span>",{class:"glyphicon glyphicon-tint"}).appendTo(m).attr("aria-hidden","true")}var u=$("<div>",{class:"carousel-inner",role:"listbox"}).appendTo(r);for(var _ in d)if(d[_].data_id==t){var h=$("<div>",{class:"item jQueryZoomerModal"}).appendTo(u);$("<img>",{src:""+d[_].img}).appendTo(h)}1==h.length?h[0].className+=" active":h[Math.floor(2*Math.random())].className+=" active",r.append('<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span><span class="sr-only">Previous</span></a><a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span><span class="sr-only">Next</span></a>'),$("<div>",{class:"shop_text"}).appendTo(p).html(i);var b=$("<div>",{class:"right_magazine"}).appendTo(l),f=$("<div>",{class:"panel_header_magazine"}).appendTo(b);$("<div>",{class:"top_create"}).appendTo(f);var y=$("<div>",{class:"center_create"}).appendTo(f);for(var T in $("<span>",{text:"Свойства"}).appendTo(y),$("<div>",{class:"bottom_create"}).appendTo(f),n){var x=$("<div>",{class:"shop_proporties mod_modal"}).appendTo(b);$("<div>",{class:"prop_left"}).appendTo(x),$("<div>",{class:"prop_right",text:""+n[T].properties}).appendTo(x)}$("<div>",{class:"death_knight"}).appendTo(b);var w=$("<div>",{class:"shop_prop_price"}).appendTo(b);$("<div>",{class:"left_t"}).appendTo(w);var k=$("<div>",{class:"center_t",text:""+e}).appendTo(w);$("<span>",{class:"currency",text:"рб"}).appendTo(k),$("<div>",{class:"right_t"}).appendTo(w);var z=$("<button>",{type:"button",class:"shop_basket_button",onclick:"add_buy("+t+", "+s+")"}).appendTo(b);$("<span>",{text:"В Корзину"}).appendTo(z),$(".jQueryZoomerModal").zoom(),$("#modal_magazine").modal("toggle")}})}function goods_quantity_top(t){var a=$("#goods_quantity"+t),e=a.text(),i=a.text(Number(e)+1);$("#goods_quantity_set"+t).val(i.text())}function goods_quantity_bottom(t){var a=$("#goods_quantity"+t),e=a.text();if(1!=a.text()){var i=a.text(Number(e)-1);$("#goods_quantity_set"+t).val(i.text())}}function add_buy(t,a){$.ajax({url:"/ajax/buy",type:"POST",cache:!1,data:{order_id:t,user_id:a},success:function(t){cls(),setTimeout(function(){show_info("ok","Товар в корзину был успешно добавлен")},100)}})}function ordering_show(t){var a=$("#pickup"),e=$("#courier");"pickup"==t?(e.slideUp({duratation:400,done:function(){e.css("display","none"),a.css("display","block")}}),setTimeout(function(){a.slideDown(400)},300)):"courier"==t&&(a.slideUp({duratation:400,done:function(){a.css("display","none"),e.css("display","block")}}),setTimeout(function(){e.slideDown(600)},300))}function payment_show(t){var a=$("#cash"),e=$("#cart"),i=$("#web_money");"cash"==t?(e.empty(),i.empty(),a.slideDown(400)):"cart"==t?(a.slideUp({duratation:400,done:function(){a.css("display","none")}}),e.empty(),i.empty(),e.append('<input type="hidden" name="transfer" value="cart">')):"web_money"==t&&(a.slideUp({duratation:400,done:function(){a.css("display","none")}}),e.empty(),i.empty(),i.append('<input type="hidden" name="transfer" value="web">'))}function ordering_goods(t,a){var e=JSON.parse(t),i=JSON.parse(a);$("#init_panel").empty();var o=$("#panel_create"),s=$("<div>",{class:"panel_create"}).appendTo(o),l=$("<div>",{class:"panel_header_magazine"}).appendTo(s);$("<div>",{class:"top_create"}).appendTo(l);var d=$("<div>",{class:"center_create"}).appendTo(l);for(var n in $("<span>",{text:"Товары"}).appendTo(d),$("<div>",{class:"bottom_create"}).appendTo(l),e){var p=$("<div>",{class:"ordering_panel"}).appendTo(s),c=$("<div>",{class:"order_top"}).appendTo(p),r=$("<div>",{class:"left"}).appendTo(c);$("<img>",{src:e[n].mini,alt:e[n].name}).appendTo(r),$("<div>",{class:"right",text:e[n].name}).appendTo(c);var v=$("<div>",{class:"order_bottom"}).appendTo(p);$("<div>",{class:"left",text:e[n].quantity+" шт"}).appendTo(v),$("<div>",{class:"right",text:e[n].price+" рб"}).appendTo(v)}$("<div>",{class:"death_knight"}).appendTo(s);var g=$("<div>",{class:"shop_prop_price"}).appendTo(s);$("<div>",{class:"left_t"}).appendTo(g);var m=$("<div>",{class:"center_t",text:i}).appendTo(g);$("<span>",{class:"currency",text:" рб"}).appendTo(m),$("<div>",{class:"right_t"}).appendTo(g)}function delete_good(t,a,e){$.ajax({url:"/ajax/buy",type:"POST",cache:!1,data:{order_del_id:a,user_del_id:e},success:function(a){$("[data-good"+t+"]").remove()}})}function switch_pay(t,a){"cash"==a?$.ajax({url:"/ajax/pay_switch",type:"POST",cache:!1,data:{id:t,pay_switch:"cash"},success:function(t){t.match(/dovahkin(.*)go/i);cls(),setTimeout(function(){show_info("ok","Теперь мы ждем от вас оплаты наличными")},100)}}):"transfer"==a&&$.ajax({url:"/ajax/pay_switch",type:"POST",cache:!1,data:{id:t,pay_switch:"transfer"},success:function(t){t.match(/dovahkin(.*)go/i);cls(),setTimeout(function(){show_info("ok","Теперь мы ждем от вас оплаты переводом")},100)}})}function click_get(t,a,e,i,o,s,l,d,n){var p=JSON.stringify(o),c=JSON.stringify(s),r=$("#create_block"+t),v=$("#panel_magazine_block"+a);r.slideUp(700),setTimeout(function(){for(var s in o)$("#panel_magazine_block"+o[s].id).empty();$.ajax({url:"/ajax/magazine_filter",type:"POST",cache:!1,data:{prop_id:e},success:function(s){var g=s.match(/dovahkin(.*)go/i),m=JSON.parse(g[1]);if(null!==m){var u=[];for(var _ in m)u.unshift(m[_].data_id);var h=u.join();$("[data-skin_list"+t+"]").remove(),$("[data-skin_cells"+t+"]").remove(),$.ajax({url:"/ajax/magazine_filter",type:"POST",cache:!1,data:{ids:h},success:function(a){var e=a.match(/dovahkin(.*)go/i),i=JSON.parse(e[1]),o=JSON.parse(n);if($("#magazine_default"+t).remove(),$("#button_magazine_list"+t).attr("onclick","view_system('list_magazine', "+e[1]+", '"+l+"', '"+d+"', '"+t+"', '', '', '"+n+"')"),$("#button_magazine_cells"+t).attr("onclick","view_system('cells_magazine', "+e[1]+", '"+l+"', '"+d+"', '"+t+"', '', '', '"+n+"')"),"list_magazine"==view_system_click_magazine)for(var s in i){var p=$("<div>",{class:"table_list"}).appendTo($("#magazine_create"+t));p.attr("data-skin_list"+t,""),$("<input>",{type:"checkbox",name:"ids[]",value:""+i[s].id}).appendTo(p);var c=$("<a>",{href:d+"/edit&id="+i[s].id+"&module_id="+l+"&template_id="+t+"&template=magazine",class:"btn btn-primary"}).appendTo(p);$("<span>",{class:"glyphicon glyphicon-edit"}).appendTo(c).attr("aria-hidden","true");var r=$("<div>",{class:"table_block_list"}).appendTo(p),v=$("<div>",{class:"temp_table list_skin_tmp"}).appendTo(r);$("<div>",{class:"tree1"}).appendTo(v),$("<div>",{class:"tree2"}).appendTo(v),$("<div>",{class:"img"}).appendTo(v),$("<div>",{class:"death_knight"}).appendTo(v);var g=$("<a>",{href:"/"+d+"/shop&id="+i[s].id+"&template="+t,class:"magazine_button"}).appendTo(v);$("<span>",{text:"Подробнее"}).appendTo(g);var m=$("<div>",{class:"block"}).appendTo(v),u=$("<div>",{class:"left_magazine"}).appendTo(m),_=$("<div>",{class:"top_magazine"}).appendTo(u),h=$("<div>",{class:"hidden_button"}).appendTo(_);(M=$("<button>",{type:"button",class:"button",text:"Быстрый",onclick:"modal_magazine("+i[s].id+", '"+i[s].name+"', "+i[s].price+", '"+JSON.stringify(i[s].des)+"', '"+JSON.stringify(o)+"');"}).appendTo(h)).attr("data-toggle","modal"),M.attr("data-target","#myModal"),$("<span>",{text:"Просмотр"}).appendTo(M);var b=$("<div>",{class:"preview_nav"}).appendTo(_),f=$("<div>",{class:"navigate"}).appendTo(b);$("<div>",{class:"pointer_top",onclick:"nextSlide("+i[s].id+")"}).appendTo(f);var y=$("<div>",{id:"dota_mini_block"+i[s].id,class:"preview_block"}).appendTo(f),T=$("<ul>",{id:"dota_mini_slider"+i[s].id}).appendTo(y);for(var x in o)if(o[x].data_id==i[s].id){var w=$("<li>",{id:"mini_bn"+o[x].id,class:"bn",onclick:"set_review("+o[x].id+","+i[s].id+")"}).appendTo(T);$("<img>",{src:""+o[x].mini}).appendTo(w)}$("<div>",{class:"pointer_bottom",onclick:"prevSlide("+i[s].id+")"}).appendTo(f),$("<div>",{class:"clearfix"}).appendTo(_);var k=$("<div>",{class:"preview"}).appendTo(_);for(var x in o)o[x].data_id==i[s].id&&$("<img>",{class:"magazine_preview"+i[s].id,id:"preview"+o[x].id,src:""+o[x].preview,alt:"dota"+o[x].id}).appendTo(k);var z=[];for(var C in o)i[s].id==o[C].data_id&&z.unshift(o[C].id);$("#preview"+z[0]).css("display","block");var S=$("<div>",{class:"rigth"}).appendTo(m);$("<a>",{class:"header",href:"/"+d+"/shop&id="+i[s].id+"&template="+t,text:""+i[s].name}).appendTo(S),$("<div>",{class:"magazine_text"}).appendTo(S).append(i[s].des);var A=$("<div>",{class:"magazine_block"}).appendTo(S),P=$("<div>",{class:"top_pic"}).appendTo(A);$("<div>",{class:"pic_left"}).appendTo(P),$("<div>",{class:"pic_center"}).appendTo(P),$("<div>",{class:"pic_right"}).appendTo(P);var O=$("<div>",{class:"basket_price"}).appendTo(A),q=$("<div>",{class:"magazine_art",text:""+i[s].id}).appendTo(O);q.attr("data-toggle","tooltip"),q.attr("data-placement","bottom"),q.attr("title","tooltip"),q.attr("data-original-title","Артикул");var I=$("<div>",{class:"price"}).appendTo(O);$("<div>",{class:"left_t"}).appendTo(I);var j=$("<div>",{class:"center_t",text:""+i[s].price}).appendTo(I);$("<span>",{class:"currency",text:" рб"}).appendTo(j),$("<div>",{class:"right_t"}).appendTo(I),$("<button>",{type:"button",class:"basket"}).appendTo(O)}else if("cells_magazine"==view_system_click_magazine)for(var s in i){var N=$("<div>",{class:"table_cells"}).appendTo($("#magazine_create"+t));N.attr("data-skin_cells"+t,"");var E=$("<div>",{class:"table_block_cells"}).appendTo(N);$("<input>",{type:"checkbox",name:"ids[]",value:""+i[s].id}).appendTo(E);c=$("<a>",{href:d+"/edit&id="+i[s].id+"&module_id="+l+"&template_id="+t+"&template=magazine",class:"btn btn-primary"}).appendTo(E);$("<span>",{class:"glyphicon glyphicon-edit"}).appendTo(c).attr("aria-hidden","true");var J=$("<div>",{class:"temp_magazine"}).appendTo(E);$("<div>",{class:"tree1"}).appendTo(J),$("<div>",{class:"tree2_magazine"}).appendTo(J),$("<div>",{class:"tree3_magazine"}).appendTo(J),$("<div>",{class:"magazine_img"}).appendTo(J),$("<div>",{class:"img mod"}).appendTo(J),$("<div>",{class:"death_knight"}).appendTo(J);m=$("<div>",{class:"block"}).appendTo(J);var D=$("<div>",{class:"art",text:"Артикул: "}).appendTo(m);$("<span>",{text:""+i[s].id}).appendTo(D);var M;_=$("<div>",{class:"top_magazine"}).appendTo(m),h=$("<div>",{class:"hidden_button"}).appendTo(_);(M=$("<button>",{type:"button",class:"button",text:"Быстрый",onclick:"modal_magazine("+i[s].id+", '"+i[s].name+"', "+i[s].price+", '"+JSON.stringify(i[s].des)+"', '"+JSON.stringify(o)+"');"}).appendTo(h)).attr("data-toggle","modal"),M.attr("data-target","#myModal"),$("<span>",{text:"Просмотр"}).appendTo(M);b=$("<div>",{class:"preview_nav"}).appendTo(_),f=$("<div>",{class:"navigate"}).appendTo(b);$("<div>",{class:"pointer_top",onclick:"nextSlide("+i[s].id+")"}).appendTo(f);y=$("<div>",{id:"dota_mini_block"+i[s].id,class:"preview_block"}).appendTo(f),T=$("<ul>",{id:"dota_mini_slider"+i[s].id}).appendTo(y);for(var x in o)if(o[x].data_id==i[s].id){w=$("<li>",{id:"mini_bn"+o[x].id,class:"bn",onclick:"set_review("+o[x].id+","+i[s].id+")"}).appendTo(T);$("<img>",{src:""+o[x].mini}).appendTo(w)}$("<div>",{class:"pointer_bottom",onclick:"prevSlide("+i[s].id+")"}).appendTo(f),$("<div>",{class:"clearfix"}).appendTo(_);k=$("<div>",{class:"preview"}).appendTo(_);for(var x in o)o[x].data_id==i[s].id&&$("<img>",{class:"magazine_preview"+i[s].id,id:"preview"+o[x].id,src:""+o[x].preview,alt:"dota"+o[x].id}).appendTo(k);z=[];for(var C in o)i[s].id==o[C].data_id&&z.unshift(o[C].id);$("#preview"+z[0]).css("display","block");var U=$("<div>",{class:"bottom"}).appendTo(m);$("<a>",{class:"header",href:"/"+d+"/shop&id="+i[s].id+"&template="+t,text:""+i[s].name}).appendTo(U);P=$("<div>",{class:"top_pic"}).appendTo(U);$("<div>",{class:"pic_left"}).appendTo(P),$("<div>",{class:"pic_center"}).appendTo(P),$("<div>",{class:"pic_right"}).appendTo(P),$("<div>",{class:"text_magazine"}).appendTo(U).append(i[s].des),$("<div>",{class:"bottom_pic"}).appendTo(U),$("<div>",{class:"magazine_block"}).appendTo(U);O=$("<div>",{class:"basket_price"}).appendTo(U),I=$("<div>",{class:"price"}).appendTo(O);$("<div>",{class:"left_t"}).appendTo(I);j=$("<div>",{class:"center_t",text:""+i[s].price}).appendTo(I);$("<span>",{class:"currency",text:" рб"}).appendTo(j),$("<div>",{class:"right_t"}).appendTo(I),$("<button>",{type:"button",class:"basket"}).appendTo(O);var R=$("<a>",{href:"/"+d+"/shop&id="+i[s].id+"&template="+t,class:"magazine_button"}).appendTo(U);$("<span>",{text:"Подробнее"}).appendTo(R)}}})}else $("[data-skin_list"+t+"]").remove(),$("[data-skin_cells"+t+"]").remove(),$("#magazine_default"+t).remove();if(null===m){for(var b in o){var f=$("#panel_magazine_block"+o[b].id),y=$("<div>",{class:"cat_block"}).appendTo(f);$("<p>",{class:"text",text:"Пусто"}).appendTo(y)}v.empty();y=$("<div>",{class:"cat_block"}).appendTo(v);$("<input>",{type:"checkbox",checked:"checked",onchange:"click_out("+t+", "+a+", "+p+","+c+", "+l+", '"+d+"', '"+n+"')"}).appendTo(y).attr("data-filter"+t,e),$("<p>",{class:"text",text:i}).appendTo(y),r.slideDown(500)}else for(var T in m)$.ajax({url:"/ajax/magazine_filter",type:"POST",cache:!1,data:{data_id:m[T].data_id},success:function(s){var g=s.match(/dovahkin(.*)go/i),m=JSON.parse(g[1]);for(var u in o){var _=$("#panel_magazine_block"+o[u].id);for(var h in m)if(o[u].id==m[h].cat_id&&-1==jQuery.inArray(Number(m[h].prop_id),prev_prop)){prev_prop.unshift(Number(m[h].prop_id));var b=$("<div>",{class:"cat_block"}).appendTo(_);$("<input>",{type:"checkbox",onchange:"click_get("+t+", "+o[u].id+", "+m[h].prop_id+", '"+m[h].properties+"', "+p+", "+c+", "+l+", '"+d+"', '"+n+"')"}).appendTo(b).attr("data-prop",m[h].prop_id),$("<p>",{class:"text",text:m[h].properties}).appendTo(b)}}v.empty();b=$("<div>",{class:"cat_block"}).appendTo(v);$("<input>",{type:"checkbox",checked:"checked",onchange:"click_out("+t+", "+a+", "+p+","+c+", "+l+", '"+d+"', '"+n+"')"}).appendTo(b).attr("data-filter"+t,e),$("<p>",{class:"text",text:i}).appendTo(b),r.slideDown(500)}});prev_prop=[]}})},850)}function click_out(t,a,e,i,o,s,l){var d=JSON.stringify(e),n=JSON.stringify(i),p=$("#create_block"+t),c=JSON.parse(l);p.slideUp(700),setTimeout(function(){for(var a in p.empty(),e){$("<div>",{class:"cat_header",text:e[a].cat}).appendTo(p);var r=$("<div>",{id:"panel_magazine_block"+e[a].id}).appendTo(p);for(var v in i)if(e[a].id==i[v].cat_id){var g=$("<div>",{class:"cat_block"}).appendTo(r);$("<input>",{type:"checkbox",onchange:"click_get("+t+", "+e[a].id+", "+i[v].id+", '"+i[v].properties+"', "+d+", "+n+", "+o+", '"+s+"', '"+l+"')"}).appendTo(g).attr("data-prop",i[v].prop_id),$("<p>",{class:"text",text:i[v].properties}).appendTo(g)}}$.ajax({url:"/ajax/magazine_filter",type:"POST",cache:!1,data:{template_id:t},success:function(a){var e=a.match(/dovahkin(.*)go/i),i=JSON.parse(e[1]),d=$("[data-skin_list"+t+"]"),n=$("[data-skin_cells"+t+"]");if($("#button_magazine_list"+t).attr("onclick","view_system('list_magazine', "+e[1]+", '"+o+"', '"+s+"', '"+t+"', '', '', '"+l+"')"),$("#button_magazine_cells"+t).attr("onclick","view_system('cells_magazine', "+e[1]+", '"+o+"', '"+s+"', '"+t+"', '', '', '"+l+"')"),"list_magazine"==view_system_click_magazine)for(var p in n.remove(),d.remove(),i){var r=$("<div>",{class:"table_list"}).appendTo($("#magazine_create"+t));r.attr("data-skin_list"+t,""),$("<input>",{type:"checkbox",name:"ids[]",value:""+i[p].id}).appendTo(r);var v=$("<a>",{href:s+"/edit&id="+i[p].id+"&module_id="+o+"&template_id="+t+"&template=magazine",class:"btn btn-primary"}).appendTo(r);$("<span>",{class:"glyphicon glyphicon-edit"}).appendTo(v).attr("aria-hidden","true");var g=$("<div>",{class:"table_block_list"}).appendTo(r),m=$("<div>",{class:"temp_table list_skin_tmp"}).appendTo(g);$("<div>",{class:"tree1"}).appendTo(m),$("<div>",{class:"tree2"}).appendTo(m),$("<div>",{class:"img"}).appendTo(m),$("<div>",{class:"death_knight"}).appendTo(m);var u=$("<a>",{href:"/"+s+"/shop&id="+i[p].id+"&template="+t,class:"magazine_button"}).appendTo(m);$("<span>",{text:"Подробнее"}).appendTo(u);var _=$("<div>",{class:"block"}).appendTo(m),h=$("<div>",{class:"left_magazine"}).appendTo(_),b=$("<div>",{class:"top_magazine"}).appendTo(h),f=$("<div>",{class:"hidden_button"}).appendTo(b);(R=$("<button>",{type:"button",class:"button",text:"Быстрый",onclick:"modal_magazine("+i[p].id+", '"+i[p].name+"', "+i[p].price+", '"+JSON.stringify(i[p].des)+"', '"+JSON.stringify(c)+"');"}).appendTo(f)).attr("data-toggle","modal"),R.attr("data-target","#myModal"),$("<span>",{text:"Просмотр"}).appendTo(R);var y=$("<div>",{class:"preview_nav"}).appendTo(b),T=$("<div>",{class:"navigate"}).appendTo(y);$("<div>",{class:"pointer_top",onclick:"nextSlide("+i[p].id+")"}).appendTo(T);var x=$("<div>",{id:"dota_mini_block"+i[p].id,class:"preview_block"}).appendTo(T),w=$("<ul>",{id:"dota_mini_slider"+i[p].id}).appendTo(x);for(var k in c)if(c[k].data_id==i[p].id){var z=$("<li>",{id:"mini_bn"+c[k].id,class:"bn",onclick:"set_review("+c[k].id+","+i[p].id+")"}).appendTo(w);$("<img>",{src:""+c[k].mini}).appendTo(z)}$("<div>",{class:"pointer_bottom",onclick:"prevSlide("+i[p].id+")"}).appendTo(T),$("<div>",{class:"clearfix"}).appendTo(b);var C=$("<div>",{class:"preview"}).appendTo(b);for(var k in c)c[k].data_id==i[p].id&&$("<img>",{class:"magazine_preview"+i[p].id,id:"preview"+c[k].id,src:""+c[k].preview,alt:"dota"+c[k].id}).appendTo(C);var S=[];for(var A in c)i[p].id==c[A].data_id&&S.unshift(c[A].id);$("#preview"+S[0]).css("display","block");var P=$("<div>",{class:"rigth"}).appendTo(_);$("<a>",{class:"header",href:"/"+s+"/shop&id="+i[p].id+"&template="+t,text:""+i[p].name}).appendTo(P),$("<div>",{class:"magazine_text"}).appendTo(P).append(i[p].des);var O=$("<div>",{class:"magazine_block"}).appendTo(P),q=$("<div>",{class:"top_pic"}).appendTo(O);$("<div>",{class:"pic_left"}).appendTo(q),$("<div>",{class:"pic_center"}).appendTo(q),$("<div>",{class:"pic_right"}).appendTo(q);var I=$("<div>",{class:"basket_price"}).appendTo(O),j=$("<div>",{class:"magazine_art",text:""+i[p].id}).appendTo(I);j.attr("data-toggle","tooltip"),j.attr("data-placement","bottom"),j.attr("title","tooltip"),j.attr("data-original-title","Артикул");var N=$("<div>",{class:"price"}).appendTo(I);$("<div>",{class:"left_t"}).appendTo(N);var E=$("<div>",{class:"center_t",text:""+i[p].price}).appendTo(N);$("<span>",{class:"currency",text:" рб"}).appendTo(E),$("<div>",{class:"right_t"}).appendTo(N),$("<button>",{type:"button",class:"basket"}).appendTo(I)}else if("cells_magazine"==view_system_click_magazine)for(var p in n.remove(),d.remove(),i){var J=$("<div>",{class:"table_cells"}).appendTo($("#magazine_create"+t));J.attr("data-skin_cells"+t,"");var D=$("<div>",{class:"table_block_cells"}).appendTo(J);$("<input>",{type:"checkbox",name:"ids[]",value:""+i[p].id}).appendTo(D);v=$("<a>",{href:s+"/edit&id="+i[p].id+"&module_id="+o+"&template_id="+t+"&template=magazine",class:"btn btn-primary"}).appendTo(D);$("<span>",{class:"glyphicon glyphicon-edit"}).appendTo(v).attr("aria-hidden","true");var M=$("<div>",{class:"temp_magazine"}).appendTo(D);$("<div>",{class:"tree1"}).appendTo(M),$("<div>",{class:"tree2_magazine"}).appendTo(M),$("<div>",{class:"tree3_magazine"}).appendTo(M),$("<div>",{class:"magazine_img"}).appendTo(M),$("<div>",{class:"img mod"}).appendTo(M),$("<div>",{class:"death_knight"}).appendTo(M);_=$("<div>",{class:"block"}).appendTo(M);var U=$("<div>",{class:"art",text:"Артикул: "}).appendTo(_);$("<span>",{text:""+i[p].id}).appendTo(U);var R;b=$("<div>",{class:"top_magazine"}).appendTo(_),f=$("<div>",{class:"hidden_button"}).appendTo(b);(R=$("<button>",{type:"button",class:"button",text:"Быстрый",onclick:"modal_magazine("+i[p].id+", '"+i[p].name+"', "+i[p].price+", '"+JSON.stringify(i[p].des)+"', '"+JSON.stringify(c)+"');"}).appendTo(f)).attr("data-toggle","modal"),R.attr("data-target","#myModal"),$("<span>",{text:"Просмотр"}).appendTo(R);y=$("<div>",{class:"preview_nav"}).appendTo(b),T=$("<div>",{class:"navigate"}).appendTo(y);$("<div>",{class:"pointer_top",onclick:"nextSlide("+i[p].id+")"}).appendTo(T);x=$("<div>",{id:"dota_mini_block"+i[p].id,class:"preview_block"}).appendTo(T),w=$("<ul>",{id:"dota_mini_slider"+i[p].id}).appendTo(x);for(var k in c)if(c[k].data_id==i[p].id){z=$("<li>",{id:"mini_bn"+c[k].id,class:"bn",onclick:"set_review("+c[k].id+","+i[p].id+")"}).appendTo(w);$("<img>",{src:""+c[k].mini}).appendTo(z)}$("<div>",{class:"pointer_bottom",onclick:"prevSlide("+i[p].id+")"}).appendTo(T),$("<div>",{class:"clearfix"}).appendTo(b);C=$("<div>",{class:"preview"}).appendTo(b);for(var k in c)c[k].data_id==i[p].id&&$("<img>",{class:"magazine_preview"+i[p].id,id:"preview"+c[k].id,src:""+c[k].preview,alt:"dota"+c[k].id}).appendTo(C);S=[];for(var A in c)i[p].id==c[A].data_id&&S.unshift(c[A].id);$("#preview"+S[0]).css("display","block");var L=$("<div>",{class:"bottom"}).appendTo(_);$("<a>",{class:"header",href:"/"+s+"/shop&id="+i[p].id+"&template="+t,text:""+i[p].name}).appendTo(L);q=$("<div>",{class:"top_pic"}).appendTo(L);$("<div>",{class:"pic_left"}).appendTo(q),$("<div>",{class:"pic_center"}).appendTo(q),$("<div>",{class:"pic_right"}).appendTo(q),$("<div>",{class:"text_magazine"}).appendTo(L).append(i[p].des),$("<div>",{class:"bottom_pic"}).appendTo(L),$("<div>",{class:"magazine_block"}).appendTo(L);I=$("<div>",{class:"basket_price"}).appendTo(L),N=$("<div>",{class:"price"}).appendTo(I);$("<div>",{class:"left_t"}).appendTo(N);E=$("<div>",{class:"center_t",text:""+i[p].price}).appendTo(N);$("<span>",{class:"currency",text:" рб"}).appendTo(E),$("<div>",{class:"right_t"}).appendTo(N),$("<button>",{type:"button",class:"basket"}).appendTo(I);var W=$("<a>",{href:"/"+s+"/shop&id="+i[p].id+"&template="+t,class:"magazine_button"}).appendTo(L);$("<span>",{text:"Подробнее"}).appendTo(W)}}}),p.slideDown(500)},850)}function checkOut(t,a,e){$("#prop"+t).attr("checked")&&$("#prop_block"+t).append('<input type="hidden" name="properties[del]['+a+"]["+e+'][]" value="'+t+'">')}function open_img(t){var a=t.target.files[0];if(a.type.match("image.*")){$("#insert_img").removeClass("disabled");var e=new FileReader;e.onload=function(t){document.getElementById("crop_img").innerHTML=['<img id="image" src="',t.target.result,'" />'].join(""),image=document.getElementById("image"),null!=image&&(image.addEventListener("crop",function(){canvas=this.cropper.getCroppedCanvas()}),new Cropper(image,{aspectRatio:ratio_w/ratio_h,viewMode:2,guides:!1,background:!1,autoCropArea:.6}))},e.readAsDataURL(a)}else{var i=$("#crop_img");i.empty(),i.html("Можно загружать только картину!"),$("#insert_img").addClass("disabled")}}function crop_open(t,a,e,i,o){"mini"==t?(ratio_w=64,ratio_h=64):"preview"==t?(ratio_w=179,ratio_h=186):"gal"==t?(ratio_w=283,ratio_h=203):"carusel"==t?(ratio_w=704,ratio_h=433):"magazine_mini"==t?(ratio_w=70,ratio_h=54):"magazine"==t?(ratio_w=209,ratio_h=224):"avatar"==t&&(ratio_w=101,ratio_h=120),void 0===i?($("#crop").on("show.bs.modal",function(){var i=$(this);i.find(".modal-title").text("Выберите изображение и обрежьте его для "+e+" картины"),i.find("#insert_img").attr("onclick","crop_img('"+t+"', '"+a+"')")}),$("#crop").modal("toggle")):"magazine"==i&&($("#crop").on("show.bs.modal",function(){var i=$(this);i.find(".modal-title").text("Выберите изображение и обрежьте его для "+e+" картины"),i.find("#insert_img").attr("onclick","crop_img('"+t+"', '"+a+"', 'magazine','"+o+"')")}),$("#crop").modal("toggle"))}function crop_img(t,a,e,i){if($("#crop_img").empty(),$("#upload").prop("value",null),void 0===e)0!=(o=$(".cropend_"+a)).length&&o.remove(),canvas.toBlob(function(t){var e=document.createElement("img"),i=URL.createObjectURL(t);e.setAttribute("class","cropend_"+a),e.onload=function(){URL.revokeObjectURL(i)},e.src=i,$("#insert_"+a).append(e)},"image/jpeg",1);else if("magazine"==e){var o;0!=(o=$(".cropend_"+i+a)).length&&o.remove(),canvas.toBlob(function(t){var o=document.createElement("img"),s=URL.createObjectURL(t);o.setAttribute("class","cropend_"+i+a),o.onload=function(){URL.revokeObjectURL(s)},o.src=s,void 0===e?$("#insert_"+a).append(o):"magazine"==e&&$("#insert_"+i+a).append(o)},"image/jpeg",1)}var s=canvas.toDataURL();void 0===e?($("#insert_"+a).append('<input type="hidden" class="cropend_'+a+'" name="img['+a+']" value="'+s+'">'),"gal"==t&&$("#insert_"+a).append('<input type="hidden" class="cropend_'+a+'" name="img[full]" value="'+image.getAttribute("src")+'">')):"magazine"==e&&($("#insert_"+i+a).append('<input type="hidden" class="cropend_'+a+'" name="img[pic]['+a+"]["+i+']" value="'+s+'">'),"magazine"==t&&$("#insert_"+i+a).append('<input type="hidden" class="cropend_'+a+'" name="img[pic]['+a+'][full]" value="'+image.getAttribute("src")+'">'))}function spoiler(t,a,e,i){if(void 0===a)"none"==(o=$("#insert_"+t)).css("display")?o.slideDown(500):"block"==o.css("display")&&o.slideUp(300);else if("magazine"==a){var o;"none"==(o=$("#insert_"+e+t)).css("display")?o.slideDown(500):"block"==o.css("display")&&o.slideUp(300)}}function magazine_gallery(t){if(void 0!==t)for(var a in t)$("#insert_edit_mini"+t[a].id).append('<img src="'+t[a].mini+'" alt="'+t[a].id+'" class="form_pic_view">'),$("#insert_edit_preview"+t[a].id).append('<img src="'+t[a].preview+'" alt="'+t[a].id+'" class="form_pic_view">')}function isValidForm_registration(t){var a=$("#data_login"),e=$("#data_pass"),i=$("#data_pass_ex"),o=$("#data_name"),s=$("#data_email"),l=$("#err_login"),d=$("#err_pass"),n=$("#err_pass_ex"),p=$("#err_name"),c=$("#err_email"),r=1,v=1,g=1,m=1,u=1;if("add"==t){if(""==a.val()?(l.css("color","#ad1616"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-remove"),l.attr("data-toggle","tooltip"),l.attr("data-placement","bottom"),l.attr("title",""),l.attr("data-original-title","Это поле не может быть пустым"),l.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):a.val().length<2?(l.css("color","#ad1616"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-remove"),l.attr("data-toggle","tooltip"),l.attr("data-placement","bottom"),l.attr("title",""),l.attr("data-original-title","Слишком короткий логин. Минимальная длина 2"),l.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):a.val().length>20?(l.css("color","#ad1616"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-remove"),l.attr("data-toggle","tooltip"),l.attr("data-placement","bottom"),l.attr("title",""),l.attr("data-original-title","Слишком длинный  логин. Максимальная длина 20"),l.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==a.val().search(/^[\d\w\-\_]*$/i)?(l.css("color","#ad1616"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-remove"),l.attr("data-toggle","tooltip"),l.attr("data-placement","bottom"),l.attr("title",""),l.attr("data-original-title","Логину нельзя вставить другие символы, кроме указанных"),l.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(l.css("color","#2c5070"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-eye-open"),l.removeAttr("data-toggle"),l.removeAttr("data-placement"),l.removeAttr("title"),l.removeAttr("data-original-title"),r=0),""==e.val()?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Пароль не может быть пустым"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):e.val().length<4?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Слишком короткий пароль. Минимальная длина 4"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):e.val()!=i.val()?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Пароли не совпадают"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(d.css("color","#2c5070"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-eye-open"),d.removeAttr("data-toggle"),d.removeAttr("data-placement"),d.removeAttr("title"),d.removeAttr("data-original-title"),v=0),""==i.val()?(n.css("color","#ad1616"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-remove"),n.attr("data-toggle","tooltip"),n.attr("data-placement","bottom"),n.attr("title",""),n.attr("data-original-title","Повторите пароль"),n.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):e.val()!=i.val()?(n.css("color","#ad1616"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-remove"),n.attr("data-toggle","tooltip"),n.attr("data-placement","bottom"),n.attr("title",""),n.attr("data-original-title","Пароли не совпадают"),n.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(n.css("color","#2c5070"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-eye-open"),n.removeAttr("data-toggle"),n.removeAttr("data-placement"),n.removeAttr("title"),n.removeAttr("data-original-title"),g=0),""==o.val()?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Это поле не может быть пустым"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):o.val().length<2?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Слишком короткая имя. Минимальная длина 2"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):o.val().length>20?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Слишком длинная имя. Максимальная длина 20"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==o.val().search(/^[a-zа-я\s\-\_]*$/i)?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Имя не может содержать другие символы, кроме указанных"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(p.css("color","#2c5070"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-eye-open"),p.removeAttr("data-toggle"),p.removeAttr("data-placement"),p.removeAttr("title"),p.removeAttr("data-original-title"),m=0),""==s.val()?(c.css("color","#ad1616"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-remove"),c.attr("data-toggle","tooltip"),c.attr("data-placement","bottom"),c.attr("title",""),c.attr("data-original-title","Это поле не может быть пустым"),c.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==s.val().search(/^[a-z0-9\-]*@[a-z0-9\-]*\.\w{2,4}$/i)?(c.css("color","#ad1616"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-remove"),c.attr("data-toggle","tooltip"),c.attr("data-placement","bottom"),c.attr("title",""),c.attr("data-original-title","Почта введена не правильно"),c.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(c.css("color","#2c5070"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-eye-open"),c.removeAttr("data-toggle"),c.removeAttr("data-placement"),c.removeAttr("title"),c.removeAttr("data-original-title"),u=0),1==r||1==v||1==g||1==m||1==u)return!1}else if("edit"==t){v=0,g=0;if(""!=e.val()&&(console.log("ff"),e.val().length<4?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Слишком короткий пароль. Минимальная длина 4"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),v=1):e.val()!=i.val()?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Пароли не совпадают"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),v=1):(d.css("color","#2c5070"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-eye-open"),d.removeAttr("data-toggle"),d.removeAttr("data-placement"),d.removeAttr("title"),d.removeAttr("data-original-title")),e.val()!=i.val()?(n.css("color","#ad1616"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-remove"),n.attr("data-toggle","tooltip"),n.attr("data-placement","bottom"),n.attr("title",""),n.attr("data-original-title","Пароли не совпадают"),n.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),g=1):(n.css("color","#2c5070"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-eye-open"),n.removeAttr("data-toggle"),n.removeAttr("data-placement"),n.removeAttr("title"),n.removeAttr("data-original-title"))),""==o.val()?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Это поле не может быть пустым"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):o.val().length<2?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Слишком короткая имя. Минимальная длина 2"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):o.val().length>20?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Слишком длинная имя. Максимальная длина 20"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==o.val().search(/^[a-zа-я\s\-\_]*$/i)?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Имя не может содержать другие символы, кроме указанных"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(p.css("color","#2c5070"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-eye-open"),p.removeAttr("data-toggle"),p.removeAttr("data-placement"),p.removeAttr("title"),p.removeAttr("data-original-title"),m=0),""==s.val()?(c.css("color","#ad1616"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-remove"),c.attr("data-toggle","tooltip"),c.attr("data-placement","bottom"),c.attr("title",""),c.attr("data-original-title","Это поле не может быть пустым"),c.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==s.val().search(/^\w+@\w+\.\w{2,4}$/i)?(c.css("color","#ad1616"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-remove"),c.attr("data-toggle","tooltip"),c.attr("data-placement","bottom"),c.attr("title",""),c.attr("data-original-title","Почта введена не правильно"),c.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(c.css("color","#2c5070"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-eye-open"),c.removeAttr("data-toggle"),c.removeAttr("data-placement"),c.removeAttr("title"),c.removeAttr("data-original-title"),u=0),1==v||1==g||1==m||1==u)return!1}}function isValidForm_module(t){var a=$("#data_login"),e=$("#data_pass"),i=$("#data_pass_ex"),o=$("#data_name"),s=$("#data_email"),l=$("#err_login"),d=$("#err_pass"),n=$("#err_pass_ex"),p=$("#err_name"),c=$("#err_email"),r=1,v=1,g=1,m=1,u=1;if("add"==t){if(""==a.val()?(l.css("color","#ad1616"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-remove"),l.attr("data-toggle","tooltip"),l.attr("data-placement","bottom"),l.attr("title",""),l.attr("data-original-title","Это поле не может быть пустым"),l.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):a.val().length<2?(l.css("color","#ad1616"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-remove"),l.attr("data-toggle","tooltip"),l.attr("data-placement","bottom"),l.attr("title",""),l.attr("data-original-title","Слишком короткий логин. Минимальная длина 2"),l.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):a.val().length>20?(l.css("color","#ad1616"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-remove"),l.attr("data-toggle","tooltip"),l.attr("data-placement","bottom"),l.attr("title",""),l.attr("data-original-title","Слишком длинный  логин. Максимальная длина 20"),l.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==a.val().search(/^[\d\w\-\_]*$/i)?(l.css("color","#ad1616"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-remove"),l.attr("data-toggle","tooltip"),l.attr("data-placement","bottom"),l.attr("title",""),l.attr("data-original-title","Логину нельзя вставить другие символы, кроме указанных"),l.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(l.css("color","#2c5070"),l.find("span").removeClass(),l.find("span").addClass("glyphicon glyphicon-eye-open"),l.removeAttr("data-toggle"),l.removeAttr("data-placement"),l.removeAttr("title"),l.removeAttr("data-original-title"),r=0),""==e.val()?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Пароль не может быть пустым"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):e.val().length<4?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Слишком короткий пароль. Минимальная длина 4"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):e.val()!=i.val()?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Пароли не совпадают"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(d.css("color","#2c5070"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-eye-open"),d.removeAttr("data-toggle"),d.removeAttr("data-placement"),d.removeAttr("title"),d.removeAttr("data-original-title"),v=0),""==i.val()?(n.css("color","#ad1616"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-remove"),n.attr("data-toggle","tooltip"),n.attr("data-placement","bottom"),n.attr("title",""),n.attr("data-original-title","Повторите пароль"),n.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):e.val()!=i.val()?(n.css("color","#ad1616"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-remove"),n.attr("data-toggle","tooltip"),n.attr("data-placement","bottom"),n.attr("title",""),n.attr("data-original-title","Пароли не совпадают"),n.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(n.css("color","#2c5070"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-eye-open"),n.removeAttr("data-toggle"),n.removeAttr("data-placement"),n.removeAttr("title"),n.removeAttr("data-original-title"),g=0),""==o.val()?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Это поле не может быть пустым"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):o.val().length<2?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Слишком короткая имя. Минимальная длина 2"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):o.val().length>20?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Слишком длинная имя. Максимальная длина 20"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==o.val().search(/^[a-zа-я\s\-\_]*$/i)?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Имя не может содержать другие символы, кроме указанных"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(p.css("color","#2c5070"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-eye-open"),p.removeAttr("data-toggle"),p.removeAttr("data-placement"),p.removeAttr("title"),p.removeAttr("data-original-title"),m=0),""==s.val()?(c.css("color","#ad1616"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-remove"),c.attr("data-toggle","tooltip"),c.attr("data-placement","bottom"),c.attr("title",""),c.attr("data-original-title","Это поле не может быть пустым"),c.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==s.val().search(/^\w+@\w+\.\w{2,4}$/i)?(c.css("color","#ad1616"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-remove"),c.attr("data-toggle","tooltip"),c.attr("data-placement","bottom"),c.attr("title",""),c.attr("data-original-title","Почта введена не правильно"),c.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(c.css("color","#2c5070"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-eye-open"),c.removeAttr("data-toggle"),c.removeAttr("data-placement"),c.removeAttr("title"),c.removeAttr("data-original-title"),u=0),1==r||1==v||1==g||1==m||1==u)return!1}else if("edit"==t){v=0,g=0;if(""!=e.val()&&(console.log("ff"),e.val().length<4?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Слишком короткий пароль. Минимальная длина 4"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),v=1):e.val()!=i.val()?(d.css("color","#ad1616"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-remove"),d.attr("data-toggle","tooltip"),d.attr("data-placement","bottom"),d.attr("title",""),d.attr("data-original-title","Пароли не совпадают"),d.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),v=1):(d.css("color","#2c5070"),d.find("span").removeClass(),d.find("span").addClass("glyphicon glyphicon-eye-open"),d.removeAttr("data-toggle"),d.removeAttr("data-placement"),d.removeAttr("title"),d.removeAttr("data-original-title")),e.val()!=i.val()?(n.css("color","#ad1616"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-remove"),n.attr("data-toggle","tooltip"),n.attr("data-placement","bottom"),n.attr("title",""),n.attr("data-original-title","Пароли не совпадают"),n.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),g=1):(n.css("color","#2c5070"),n.find("span").removeClass(),n.find("span").addClass("glyphicon glyphicon-eye-open"),n.removeAttr("data-toggle"),n.removeAttr("data-placement"),n.removeAttr("title"),n.removeAttr("data-original-title"))),""==o.val()?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Это поле не может быть пустым"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):o.val().length<2?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Слишком короткая имя. Минимальная длина 2"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):o.val().length>20?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Слишком длинная имя. Максимальная длина 20"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==o.val().search(/^[a-zа-я\s\-\_]*$/i)?(p.css("color","#ad1616"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-remove"),p.attr("data-toggle","tooltip"),p.attr("data-placement","bottom"),p.attr("title",""),p.attr("data-original-title","Имя не может содержать другие символы, кроме указанных"),p.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(p.css("color","#2c5070"),p.find("span").removeClass(),p.find("span").addClass("glyphicon glyphicon-eye-open"),p.removeAttr("data-toggle"),p.removeAttr("data-placement"),p.removeAttr("title"),p.removeAttr("data-original-title"),m=0),""==s.val()?(c.css("color","#ad1616"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-remove"),c.attr("data-toggle","tooltip"),c.attr("data-placement","bottom"),c.attr("title",""),c.attr("data-original-title","Это поле не может быть пустым"),c.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):-1==s.val().search(/^\w+@\w+\.\w{2,4}$/i)?(c.css("color","#ad1616"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-remove"),c.attr("data-toggle","tooltip"),c.attr("data-placement","bottom"),c.attr("title",""),c.attr("data-original-title","Почта введена не правильно"),c.tooltip({template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})):(c.css("color","#2c5070"),c.find("span").removeClass(),c.find("span").addClass("glyphicon glyphicon-eye-open"),c.removeAttr("data-toggle"),c.removeAttr("data-placement"),c.removeAttr("title"),c.removeAttr("data-original-title"),u=0),1==v||1==g||1==m||1==u)return!1}}view_system_active=0,view_system_click="list",view_system_click_magazine="cells_magazine",gal_cats=0,slideNow=1,use=0,subcat_table=0,subcat_gal=0,subcat_magazine=0,subcat_magazine_properties=0,pics=0,prev_prop=[],canvas="",ratio_w=64,ratio_h=64,$(function(){$('[data-toggle="tooltip"]').tooltip()});